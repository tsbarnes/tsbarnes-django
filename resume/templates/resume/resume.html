{% extends 'base.html' %}

{% block content %}
  <!-- Personal Contact Information in hCard markup --> 
  <div id="contactinfo" class="vcard card m-2">
    <h2 class="card-header">Personal Info</h2>
    <div class="card-body">
      <h1 class="fn n card-title" id="name"><a class="url" href="{% if request.is_secure %}https{% else %}http{% endif %}://{{ site_name }}{% url 'resume_home' %}" rel="me"><span class="given-name">{{ personal_info.first_name}}</span> <span class="family-name">{{ personal_info.last_name }}</span></a></h1> 
      <div class="adr">
        <span class="locality">{{ personal_info.locality }}</span>, <abbr class="region" title="{{ personal_info.region }}">{{ personal_info.region_shorthand }}</abbr> 
      </div>
      
      {% if personal_info.email %}
        <div class="email"><a href="mailto:{{ personal_info.email }}">{{ personal_info.email }}</a></div>
      {% endif %}

      <p class="summary card-text">
        {{ overview.text|safe }}
      </p>

    </div>
    <div class="btn-group" role="group" aria-label="Social media links">
      {% for social in social_accounts %}
        <a href="{{ social.url }}" class="btn btn-primary socicon-{{ social.icon_name }}" title="{{ social.name }}"></a>
      {% endfor %}
    </div>
  </div>
  <!-- End Personal Contact Information --> 
  
  <div class="card m-2">
    <h2 class="card-header">Experience</h2>
    <ul id="job-list" class="vcalendar list-group list-group-flush">
      {% for job in job_list %}
        {% if job.is_public %}
          <li class="experience vevent vcard list-group-item">
            <strong class="org">{{ job.company }}</strong> - <span class="location">{{ job.location }}</span>
            <br />
            <a class="include" href="#name"></a>
            <strong class="title">{{ job.title }}</strong> 
            <span class="period">(<abbr class="dtstart" title="{{ job.full_start_date }}">{{ job.formatted_start_date }}</abbr> - <abbr class="dtend" title="{{ job.full_end_date }}">{{ job.formatted_end_date }}</abbr>)</span>
            
            <div class="description">{{ job.description }}</div>
            <ul class="achievements">
              {% for a in job.accomplishment_set.all %}
                <li>{{ a.description }}</li>
              {% endfor %}
            </ul>
            <ul class="projects">
              {% for project in job.project_set.all %}
                <li><a href="{% url 'detail' project.slug %}">{{ project.title }}</a></li>
              {% endfor %}
            </ul>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>

  <div class="card m-2">
    <h2 class="card-header">Volunteer Experience</h2>
    <ul id="job-list" class="vcalendar list-group list-group-flush">
      {% for job in volunteer_job_list %}
        {% if job.is_public %}
          <li class="experience vevent vcard list-group-item">
            <strong class="org">{{ job.company }}</strong> - <span class="location">{{ job.location }}</span>
            <br />
            <a class="include" href="#name"></a>
            <strong class="title">{{ job.title }}</strong> 
            <span class="period">(<abbr class="dtstart" title="{{ job.full_start_date }}">{{ job.formatted_start_date }}</abbr> - <abbr class="dtend" title="{{ job.full_end_date }}">{{ job.formatted_end_date }}</abbr>)</span>
            
            <div class="description">{{ job.description }}</div>
            <ul class="achievements">
              {% for a in job.accomplishment_set.all %}
                <li>{{ a.description }}</li>
              {% endfor %}
            </ul>
            <ul class="projects">
              {% for project in job.project_set.all %}
                <li><a href="{% url 'detail' project.slug %}">{{ project.title }}</a></li>
              {% endfor %}
            </ul>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>

  <div class="card m-2">
    <h2 class="card-header">Skills</h2>
    <ul id="skill-list" class="list-group list-group-flush">
      {% for skillset in skill_sets %}
        <li class="skillset list-group-item"><span class="skillset-title">{{ skillset.name }}:&nbsp;</span>
          {% for s in skillset.skill_set.all %}
            <a href="{{ s.skill_url }}" class="skill" rel="tag">{{ s.name }}</a>{% if not forloop.last %},&nbsp;{% endif %}
          {% endfor %}
        </li>
      {% endfor %} 
    </ul>
  </div>
  
  <div class="card m-2">
    <h2 class="card-header">Education</h2>
    <ul id="edu-list" class="vcalendar list-group list-group-flush">
      {% for edu in education %}
        <li class="education vevent vcard list-group-item">
          <span class="period"><abbr class="dtstart" title="{{ edu.full_start_date }}">{{ edu.formatted_start_date }}</abbr> - <abbr class="dtend" title="{{ edu.full_end_date }}">{{ edu.formatted_end_date }}</abbr></span> - 
          <span class="org"><a rel="employer" href="{{ edu.school_url }}" class="summary url" title="{{ edu.name }}">{{ edu.name }}</a></span> - <span class="location">{{ edu.location }}</span>
          <div class="summary"> {{ edu.summary }}</div>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}